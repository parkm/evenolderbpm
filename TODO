Current TODO:

Design {
    Design Upgrades

    Main Mode {
        Rounds {
            Round Failed - run out of pins without popping all goal bubbles
            Round Complete - Pop all goal bubbles (wait for current pin to die)
                           - Don't wait for remaining pins
        }
    }
}

Pins {
    Pin upgrades
}

Bubbles {
    Add the rest of the bubble types.
    Add the rest of the attribute effects.
    
    Action {
        Add action bubbles to Tiled
            - Specify name for all action bubbles
            - Use name to refer to action bubble and assign callbacks

    }
    
}

Walls {
    Actions {
        If walls need to be used in code, add property 'id'
        If walls need to move, use polylines, use the same id in polyline as the moving wall
            - in the polyline object, use the polyline properties to move the wall.
    }
    
    Destroy pins if they are smashed between two moving walls. 
}

States {}

Other {
    Implement original gameplay for the 'Classic' game mode. (Might wanna do this after upgrade ui is finished) {
        Classic round will start with score/bad bubbles. You can buy
        new bubbles in the upgrade store and upgrade their spawn rate.
        All bubbles will also be frozen.

        Upgrades:
            Bomb bubbles
                Bomb bubble increase

            Ammo bubbles
                Ammo bubble increase
            
            Score bubble increase
            Bad bubble decrease
            Double bubble increase
            Combo bubble increase
            Pin count increase
            Pin life increase
    }

    Game finish: {
        Have round complete as soon as all goal bubbles are popped; don't wait for the pins to die (boring)
            -We can't really do this though because they wouldn't get the chance to further their score if they had pins left.
            -We should have a more exciting mode when all the goal bubbles are popped then.
                idea {
                    SUPER BUBBLE POP MANIA! flashes on the screen
                    x10 multiplier (make this balanced)
                    rainbows everywhere
                    super awesome music
                    cool effects
                }
    }
}

# Ideas:

State.addRound {
    Put all of the xml loading code that's currently in State.create("game",...) in it's inner State.create callback.
        Pros: This would simplify the game parent state. The better abstraction would be useful when constructing new stuff in the round.
        Cons: the only way to create a level from editor data would be to use State.addRound.
        - Still deciding on this... I think we'll leave it as is. Leaving this here just in case.
}
